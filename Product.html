<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Website Project</title>
    <link rel="stylesheet" href="style.css">
    <script src="Theme-switch.js" defer></script>
    <script src="slider.js" defer></script>
    <script src="backend.js" defer></script>
    <script src="Products.js" defer></script>
</head>
<body >
 <!-- Announcement Bar -->
 <div class="announcement-bar">
  <div class="scrolling-text">
    ðŸš¨Limited Time Offer: 15% Off All Controllers! Use Code: <strong>INVINCIBLE15</strong>
  </div>
</div>
<header class ="container">
  <div id ="col1">
     
         <a href="index.html" id = 'logo'> <img src="Images/favicon.png" alt="light Logo"><img src="Images/omni_man.png" alt="light Logo"></a>
     
  </div>
  <div id ="col2">
    <a href="index.html" style=  "text-decoration: none;"> <h1>INVICNCIBLE Store</h1></a>
      <!-- Search -->

  <div class="srchcard">
    <form class="srchform">
      <input
      type="text"
      name="query"
      class="srch"
      placeholder="Search a product..."
      id="srch"
      autocomplete="on"
      oninput="search()"
      />
      <input type="image" src="./Images/icons8-search-50.png" alt="search" class="srchbutton" name="SearchButton" />
      <ul id="srchlist" style="display: none;">
        <li onclick="redirectToPage('Product.html?category=accessories&product=0')">PlayStation 5 Controller</li>
        <li onclick="redirectToPage('Product.html?category=accessories&product=1')">Controller Charging Station</li>
        <li onclick="redirectToPage('Product.html?category=accessories&product=2')">PS VR2</li>
      
        <li onclick="redirectToPage('Product.html?category=consoles&product=0')">PlayStation 5 Slim</li>
        <li onclick="redirectToPage('Product.html?category=consoles&product=1')">PlayStation 5 Pro</li>
        <li onclick="redirectToPage('Product.html?category=consoles&product=2')">Xbox Series S</li>
      
        <li onclick="redirectToPage('Product.html?category=games&product=0')">FC 25</li>
        <li onclick="redirectToPage('Product.html?category=games&product=1')">Rocket League</li>
        <li onclick="redirectToPage('Product.html?category=games&product=2')">Red Dead Redemption 2</li>
      </ul>
    </form>
  </div>

      <div id="row2">
        <a href="index.html">Home</a>
        <a href="aboutus.html">About Us</a>
        <a href="feedback.html">Contact Us</a>
     
      </div>    
  </div >
  
  <div id= "col3">
      <button class="Nav-button" ><img src="Images/user.png" alt="account" id="avatar" onclick="window.location.href='login.html'"></button>
      <button class="Nav-button" id="theme-switch" ><img src="Images/night-mode.png" alt="Dark Mode" ><img src="Images/brightness.png" alt="Light Mode" ></button>

    </div>
</header>
<main>
 

<div>
    <div class="d11g">
    <img class="main" src="" >
    </div>
    <div class="d2">
          <!--edited to send data to checkout page by abdelrahman-->
          <form action="checkout.html" method="GET">
            <h1 id="productName"></h1>
            <p id="company"></p>
            <hr>
            <p id="price"></p>
          
            <label for="num">Quantity:</label>
            <input type="number" id="num" name="quantity" min="1" value="1" class="input" required>
          
            <!-- Hidden field that will be filled with product name -->
            <input type="hidden" name="product" id="hiddenProductName">
          
            <br>
            <button class="but" type="submit">ORDER NOW</button>
          </form>
          
           </div>
       </div>      
</div>
</main>

<footer class="footer">
  <p class="footer-text">Â© 2025 E-Shop. All rights reserved.</p>
  <div class="social-links">
    <a href="https://www.facebook.com/invincible.store.2025" class="social-link" target="_blank">Facebook</a>
    <a href="https://www.instagram.com/invincible_store321/" class="social-link" target="_blank">Instagram</a>
    <a href="feedback.html" class="social-link" target="_blank">Contact Us</a>
  </div>
</footer>

<script>
   document.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);
  const category = params.get("category");
  const productIndex = parseInt(params.get("product"), 10);

  if (category && !isNaN(productIndex)) {
    const product = store.getCategory(category)[productIndex];

    if (product) {
      // Update image
      const img = document.querySelector(".main");
      img.src = product.image;
      img.alt = product.name;

      // Update name
      document.getElementById("productName").textContent = product.name;

      // Update company
      document.getElementById("company").textContent = product.company;

      // Update price
      document.getElementById("price").innerHTML =
        `Price: <strong style="color: red;">${product.salePrice} EGP</strong> <del class="deld">${product.normalPrice} EGP</del>`;

      // Update stock limit for quantity input
      document.getElementById("num").max = product.stock;

      // âœ… Hidden input for checkout
      document.getElementById("hiddenProductName").value = product.name;
    }
  }
});

  </script>
  
</body>
</html>
